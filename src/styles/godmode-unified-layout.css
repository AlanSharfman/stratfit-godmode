/* src/styles/godmode-unified-layout.css */
/* STRATFIT GOD MODE — UNIFIED COMMAND CHASSIS */
/* No gaps. No floating boxes. One seamless console. */

/* ============================================================================
   ROOT: THE COMMAND CHASSIS
   ============================================================================ */

html, body, #root {
  height: 100vh !important;
  width: 100vw !important;
  max-height: 100vh !important;
  max-width: 100vw !important;
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  background: #050911 !important;
}

.app,
[class*="App"] {
  height: 100vh !important;
  width: 100vw !important;
  max-height: 100vh !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
  background: #050911 !important;
}

/* ============================================================================
   HEADER — Command Bar (56px)
   ============================================================================ */

.unified-header,
header.unified-header {
  flex-shrink: 0 !important;
  height: 56px !important;
  min-height: 56px !important;
  max-height: 56px !important;
  width: 100% !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
  background: rgba(5, 9, 17, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  /* Allow dropdown to overflow */
  overflow: visible !important;
  position: relative !important;
  z-index: 1000 !important;
}

/* Ensure scenario dropdown can overflow header bounds */
.unified-header .uh-scenario-container,
.uh-scenario-container {
  position: relative !important;
  z-index: 1001 !important;
}

.unified-header .uh-scenario-dropdown,
.uh-scenario-dropdown {
  z-index: 9999 !important;
}

.header:not(.unified-header) {
  display: none !important;
}

/* ============================================================================
   MAIN CONTENT — 3-Column Chassis (No Gaps, No Padding)
   ============================================================================ */

.main-content,
[class*="main-content"],
[class*="mainContent"] {
  flex: 1 !important;
  display: flex !important;
  flex-direction: row !important;
  height: calc(100vh - 56px) !important;
  max-height: calc(100vh - 56px) !important;
  width: 100% !important;
  overflow: hidden !important;
  background: #050911 !important;
  /* NO GAP - seamless chassis */
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* ============================================================================
   LEFT DECK — PRECISION CONTROLS (420px)
   ============================================================================ */

.left-column,
[class*="left-column"],
aside.left-column {
  width: 420px !important;
  min-width: 420px !important;
  max-width: 420px !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  
  /* Seamless border - no rounded corners */
  border-right: 1px solid rgba(255, 255, 255, 0.08) !important;
  border-radius: 0 !important;
  
  /* Subtle glass */
  background: rgba(15, 23, 42, 0.4) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  
  /* Remove shadows - we want flat chassis */
  box-shadow: none !important;
  border-top: none !important;
  border-bottom: none !important;
  border-left: none !important;
  
  overflow-y: auto !important;
  overflow-x: hidden !important;
  
  scrollbar-width: thin !important;
  scrollbar-color: rgba(34, 211, 238, 0.15) transparent !important;
}

.left-column::-webkit-scrollbar {
  width: 3px !important;
}

.left-column::-webkit-scrollbar-track {
  background: transparent !important;
}

.left-column::-webkit-scrollbar-thumb {
  background: rgba(34, 211, 238, 0.2) !important;
  border-radius: 2px !important;
}

/* Hide legacy elements - Scenario selector is in the header menu */
.scenario-area,
[class*="scenario-area"],
[class*="ActiveScenario"]:not(.unified-header *) {
  display: none !important;
}

.sf-leftSpacer,
[class*="sf-leftSpacer"] {
  display: none !important;
}

/* Left stack fills container */
.sf-leftStack,
[class*="sf-leftStack"] {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  gap: 0 !important;
  padding: 0 !important;
}


/* Sliders container */
.sliders-container,
[class*="sliders-container"] {
  flex: 1 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  border: none !important;
  box-shadow: none !important;
  padding: 16px !important;
}

/* ============================================================================
   CENTER DECK — THE HUD & VIEWPORT
   ============================================================================ */

.center-column,
[class*="center-column"],
main.center-column {
  flex: 1 !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  position: relative !important;
  
  /* The Void */
  background: #000000 !important;
  
  /* No gaps, no padding */
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  overflow: hidden !important;
  
  /* No borders or radius - seamless */
  border: none !important;
  border-radius: 0 !important;
}

/* ============================================================================
   ZONE A: KPI JEWEL BOXES — Always Visible, Mag-Lev Reactive
   ============================================================================ */

.kpi-section,
[class*="kpi-section"],
[data-tour="kpis"] {
  /* Container for floating cards */
  width: 100% !important;
  flex-shrink: 0 !important;
  flex-grow: 0 !important;
  
  /* FLOATING above the mountain */
  position: relative !important;
  z-index: 20 !important;
  
  /* Padding and margin for breathing room */
  padding: 16px 24px !important;
  margin-bottom: 0 !important;
  
  /* Transparent background - cards float on void */
  background: transparent !important;
  border: none !important;
  
  display: block !important;
  
  /* ALWAYS VISIBLE - no hiding */
  height: auto !important;
  min-height: auto !important;
  max-height: none !important;
  opacity: 1 !important;
  overflow: visible !important;
  transform: none !important;
}

/* KPI Sparkline Section - 3 card grid */
.kpi-sparkline-section,
[class*="kpi-sparkline-section"] {
  width: 100% !important;
  padding: 0 !important;
}

/* The monolith grid */
.kpi-monolith-grid,
.kpi-sparkline-section > .grid {
  display: grid !important;
  grid-template-columns: 1fr 1fr auto !important;
  gap: 20px !important;
  width: 100% !important;
  margin-bottom: 16px !important;
  align-items: center !important;
}

/* Individual Monolith Card */
.kpi-monolith-card {
  height: 200px !important;
  min-height: 200px !important;
  
  /* Glass floating box */
  background: rgba(15, 23, 42, 0.80) !important;
  backdrop-filter: blur(24px) !important;
  -webkit-backdrop-filter: blur(24px) !important;
  
  /* Rounded corners */
  border-radius: 16px !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  
  /* Depth shadow */
  box-shadow: 
    0 25px 50px -12px rgba(0, 0, 0, 0.6),
    0 10px 20px -5px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
  
  /* Internal layout */
  padding: 24px !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: space-between !important;
  
  overflow: hidden !important;
  position: relative !important;
}

/* Stealth mode - active glow */
.kpi-monolith-card.is-active {
  border-color: rgba(0, 217, 255, 0.3) !important;
  box-shadow: 
    0 25px 50px -12px rgba(0, 0, 0, 0.6),
    0 10px 20px -5px rgba(0, 0, 0, 0.4),
    0 0 40px rgba(0, 217, 255, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
}

/* Card title */
.kpi-monolith-title {
  font-family: 'JetBrains Mono', monospace !important;
  font-size: 11px !important;
  font-weight: 700 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.2em !important;
  color: rgba(34, 211, 238, 0.6) !important;
  margin-bottom: 8px !important;
}

.kpi-monolith-card.is-active .kpi-monolith-title {
  color: rgba(34, 211, 238, 0.9) !important;
}

/* Card value */
.kpi-monolith-value {
  font-family: 'Inter', -apple-system, sans-serif !important;
  font-size: 32px !important;
  font-weight: 800 !important;
  color: rgba(255, 255, 255, 0.7) !important;
  letter-spacing: -0.02em !important;
  line-height: 1 !important;
}

.kpi-monolith-card.is-active .kpi-monolith-value {
  color: #ffffff !important;
}

/* Card unit */
.kpi-monolith-unit {
  font-size: 14px !important;
  font-weight: 500 !important;
  color: rgba(148, 163, 184, 0.5) !important;
  margin-left: 4px !important;
}

/* Widget container - bottom of card */
.kpi-monolith-widget {
  height: 60px !important;
  width: 100% !important;
  margin-top: auto !important;
  position: relative !important;
}

/* Legacy KPI groups - hide */
.kpi-groups,
[data-kpi-group],
.sf-kpi--wide,
.sf-kpi--narrow,
[class*="KPIBezel"],
[data-kpi-group] > div {
  display: none !important;
}

/* ============================================================================
   ZONE B: THE MOUNTAIN — THE VOID (Orbital Drop Compatible)
   ============================================================================ */

[class*="sfCenterRoot"],
[class*="CenterViewPanel"] {
  flex: 1 !important;
  min-height: 0 !important;
  width: 100% !important;
  position: relative !important;
  
  /* The Void - deep radial gradient */
  background: radial-gradient(circle at 50% 60%, #111827 0%, #000000 100%) !important;
  
  /* No borders, no radius */
  border: none !important;
  border-radius: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
  z-index: 10 !important;
  
  /* ORBITAL DROP: Mountain fills everything by default */
  height: 100% !important;
  
  /* Hydraulic transition when KPIs compress the space */
  transition: height 1000ms cubic-bezier(0.25, 0.8, 0.25, 1) !important;
}

/* Vignette overlay */
[class*="sfCenterRoot"]::before,
[class*="CenterViewPanel"]::before {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  pointer-events: none !important;
  box-shadow: inset 0 0 150px rgba(0, 0, 0, 0.9) !important;
  z-index: 5 !important;
}

/* Mountain stage */
[class*="sfMountainStage"] {
  flex: 1 !important;
  min-height: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Hide view selector */
[class*="sfViewSelectorInner"],
[class*="ViewModeSelector"]:not(.unified-header *) {
  display: none !important;
}

/* ============================================================================
   RIGHT DECK — AI INTELLIGENCE (400px) — "Machined Glass" Style
   ============================================================================ */

.right-column,
[class*="right-column"],
aside.right-column,
[data-tour="intel"] {
  width: 440px !important;
  min-width: 440px !important;
  max-width: 440px !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  position: relative !important;
  align-items: stretch !important;
  justify-content: flex-start !important;  /* ALIGN TO TOP */
  padding: 0 !important;
  margin: 0 !important;
  
  /* No border on the column itself - the bezel inside handles it */
  border-left: none !important;
  border-radius: 0 !important;
  
  /* Deep background */
  background: #050911 !important;
  
  /* Subtle inner shadow */
  box-shadow: 
    inset 10px 0 30px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.03) !important;
  
  border-top: none !important;
  border-bottom: none !important;
  border-right: none !important;
  
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 0 !important;
  
  scrollbar-width: thin !important;
  scrollbar-color: rgba(34, 211, 238, 0.15) transparent !important;
}

/* Corner Bolts moved to AI Intelligence panel bezel */

.right-column::-webkit-scrollbar,
[data-tour="intel"]::-webkit-scrollbar {
  width: 3px !important;
}

.right-column::-webkit-scrollbar-track,
[data-tour="intel"]::-webkit-scrollbar-track {
  background: transparent !important;
}

.right-column::-webkit-scrollbar-thumb,
[data-tour="intel"]::-webkit-scrollbar-thumb {
  background: rgba(34, 211, 238, 0.2) !important;
  border-radius: 2px !important;
}

/* AI Intelligence - THE SILVER JEWEL BEZEL */
[class*="AIIntelligence"],
[class*="ScenarioIntelligence"],
[class*="aiIntelligence"] {
  flex: 1 !important;
  height: calc(100% - 24px) !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
  padding: 0 !important;
  margin: 12px !important;
  margin-top: 12px !important;
  
  /* === THE SILVER JEWEL STEPPED BEZEL === */
  position: relative !important;
  border-radius: 12px !important;
  
  /* Layer 1: Deep Glass Base */
  background: #0b1221 !important;
  
  /* Layer 2: Silver Stepped Rim — The "Jewel" Effect */
  border: none !important;
  outline: 3px solid rgba(148, 163, 184, 0.25) !important;  /* Silver outer step */
  outline-offset: 3px !important;
  
  box-shadow:
    /* === OUTER STEPPED BEZEL === */
    /* Step 1: Silver rim glow */
    0 0 0 1px rgba(203, 213, 225, 0.15),
    /* Step 2: Dark inset for depth */
    0 0 0 4px rgba(15, 23, 42, 0.9),
    /* Step 3: Silver accent ring */
    0 0 0 5px rgba(148, 163, 184, 0.2),
    /* Step 4: Final dark frame */
    0 0 0 8px rgba(2, 6, 23, 0.8),
    
    /* === INNER MACHINED EDGE === */
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.6),
    inset 1px 0 0 rgba(255, 255, 255, 0.05),
    inset -1px 0 0 rgba(255, 255, 255, 0.05),
    
    /* === DEPTH SHADOW === */
    0 20px 60px -15px rgba(0, 0, 0, 0.9),
    0 8px 24px -8px rgba(0, 0, 0, 0.6) !important;
}

/* Inner content padding */
[class*="AIIntelligence"] > *,
[class*="ScenarioIntelligence"] > *,
[class*="aiIntelligence"] > * {
  padding: 16px !important;
}

/* === SILVER CORNER RIVETS === */
[class*="AIIntelligence"]::before,
[class*="ScenarioIntelligence"]::before {
  content: "" !important;
  position: absolute !important;
  top: 8px !important;
  left: 8px !important;
  width: 5px !important;
  height: 5px !important;
  background: linear-gradient(135deg, #94a3b8 0%, #475569 100%) !important;
  border-radius: 50% !important;
  box-shadow: 
    /* Other 3 corners */
    calc(100% - 21px) 0 0 0 #64748b,
    0 calc(100% - 21px) 0 0 #64748b,
    calc(100% - 21px) calc(100% - 21px) 0 0 #64748b,
    /* Inner shadow on each rivet */
    inset 0 1px 2px rgba(255, 255, 255, 0.3),
    inset 0 -1px 1px rgba(0, 0, 0, 0.5) !important;
  z-index: 50 !important;
  pointer-events: none !important;
}

/* === THE "WET GLASS" TOP HIGHLIGHT === */
[class*="AIIntelligence"]::after,
[class*="ScenarioIntelligence"]::after {
  content: "" !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 1px !important;
  background: linear-gradient(90deg, 
    transparent 5%, 
    rgba(203, 213, 225, 0.5) 20%,
    rgba(255, 255, 255, 0.7) 50%,
    rgba(203, 213, 225, 0.5) 80%,
    transparent 95%
  ) !important;
  border-radius: 12px 12px 0 0 !important;
  pointer-events: none !important;
}

/* === INNER GLASS REFLECTION === */
[class*="AIIntelligence"] > *:first-child::before,
[class*="ScenarioIntelligence"] > *:first-child::before {
  content: "" !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 60px !important;
  background: linear-gradient(180deg, 
    rgba(255, 255, 255, 0.04) 0%,
    transparent 100%
  ) !important;
  pointer-events: none !important;
  border-radius: 12px 12px 0 0 !important;
}

/* ============================================================================
   TELEMETRY STYLING — Dense Data Streams
   ============================================================================ */

/* Signal flags - pill style */
[class*="AIIntelligence"] [class*="signal"],
[class*="AIIntelligence"] [class*="insight"],
[class*="executiveText"],
[class*="commentaryText"] {
  font-size: 11px !important;
  line-height: 1.4 !important;
  padding: 8px 12px !important;
  margin: 4px 0 !important;
  border-radius: 4px !important;
  border-left: 3px solid rgba(34, 211, 238, 0.5) !important;
  background: rgba(34, 211, 238, 0.05) !important;
}

/* Status pills */
[class*="signalPositive"],
[class*="insight"][data-status="positive"] {
  border-left-color: #10b981 !important;
  background: rgba(16, 185, 129, 0.08) !important;
}

[class*="signalWarning"],
[class*="insight"][data-status="warning"] {
  border-left-color: #f59e0b !important;
  background: rgba(245, 158, 11, 0.08) !important;
}

[class*="signalCritical"],
[class*="insight"][data-status="critical"] {
  border-left-color: #ef4444 !important;
  background: rgba(239, 68, 68, 0.08) !important;
}

/* ============================================================================
   RESPONSIVE — Maintain Chassis Proportions
   ============================================================================ */

@media (max-width: 1800px) {
  .right-column,
  [class*="right-column"],
  aside.right-column,
  [data-tour="intel"] {
    width: 400px !important;
    min-width: 400px !important;
    max-width: 400px !important;
  }
}

@media (max-width: 1600px) {
  .left-column,
  [class*="left-column"],
  aside.left-column {
    width: 380px !important;
    min-width: 380px !important;
    max-width: 380px !important;
  }
  
  .right-column,
  [class*="right-column"],
  aside.right-column,
  [data-tour="intel"] {
    width: 340px !important;
    min-width: 340px !important;
    max-width: 340px !important;
  }
}

@media (max-width: 1400px) {
  .left-column,
  [class*="left-column"],
  aside.left-column {
    width: 340px !important;
    min-width: 340px !important;
    max-width: 340px !important;
  }
  
  .right-column,
  [class*="right-column"],
  aside.right-column,
  [data-tour="intel"] {
    width: 300px !important;
    min-width: 300px !important;
    max-width: 300px !important;
  }
}

@media (max-width: 1200px) {
  .left-column,
  [class*="left-column"],
  aside.left-column {
    width: 300px !important;
    min-width: 300px !important;
    max-width: 300px !important;
  }
  
  .right-column,
  [class*="right-column"],
  aside.right-column,
  [data-tour="intel"] {
    width: 260px !important;
    min-width: 260px !important;
    max-width: 260px !important;
  }
  
  .kpi-section,
  [class*="kpi-section"],
  [data-tour="kpis"] {
    height: 110px !important;
    min-height: 110px !important;
    max-height: 110px !important;
  }
}

/* ============================================================================
   CLEANUP — Remove Legacy Padding
   ============================================================================ */

[class*="CommandDeckBezel"],
[class*="commandDeckBezel"] {
  padding: 0 !important;
  margin: 0 !important;
  height: 100% !important;
  border: none !important;
  border-radius: 0 !important;
  background: transparent !important;
}

[class*="CommandDeckBezel"] > div,
[class*="commandDeckBezel"] > div {
  height: 100% !important;
  overflow: visible !important;
}

/* ============================================================================
   LIVING DATA ANIMATIONS — The Machine Breathes
   ============================================================================ */

/* SCANLINE SHIMMER — Constant monitoring effect */
@keyframes shimmer {
  0% { 
    transform: translateY(-150%); 
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% { 
    transform: translateY(250%); 
    opacity: 0;
  }
}

/* PULSE GLOW — Breathing neon effect */
@keyframes pulseGlow {
  0%, 100% { 
    opacity: 0.6;
    filter: brightness(1);
  }
  50% { 
    opacity: 1;
    filter: brightness(1.3);
  }
}

/* REACTOR SPIN — Slow idle monitoring */
@keyframes reactorSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* EQUALIZER WAVE — Sonar ripple effect */
@keyframes equalizerWave {
  0%, 100% { 
    transform: scaleY(0.4);
  }
  50% { 
    transform: scaleY(1);
  }
}

/* STROBE — Fast active flash */
@keyframes strobe {
  0%, 100% { 
    opacity: 0.8;
    background-color: rgba(34, 211, 238, 0.8);
  }
  50% { 
    opacity: 1;
    background-color: rgba(255, 255, 255, 0.9);
  }
}

/* FADE IN UP — Staggered list animation */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* PULSE DOT — Glowing status indicator */
@keyframes pulseDot {
  0%, 100% {
    box-shadow: 0 0 4px currentColor;
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 12px currentColor;
    transform: scale(1.2);
  }
}

/* KPI MODULE PULSE — Idle heartbeat (slow) */
@keyframes kpiPulse {
  0%, 100% {
    box-shadow: 
      0 10px 40px -10px rgba(0,0,0,0.7), 
      0 4px 12px -4px rgba(0,0,0,0.5),
      inset 0 0 0 1px rgba(34, 211, 238, 0);
  }
  50% {
    box-shadow: 
      0 10px 40px -10px rgba(0,0,0,0.7), 
      0 4px 12px -4px rgba(0,0,0,0.5),
      inset 0 0 0 1px rgba(34, 211, 238, 0.15);
  }
}

/* KPI MODULE PULSE ACTIVE — Fast heartbeat */
@keyframes kpiPulseActive {
  0%, 100% {
    box-shadow: 
      0 0 30px -5px rgba(0, 217, 255, 0.3),
      0 20px 50px -10px rgba(0,0,0,0.8);
  }
  50% {
    box-shadow: 
      0 0 50px -5px rgba(0, 217, 255, 0.5),
      0 20px 50px -10px rgba(0,0,0,0.8);
  }
}

/* BEZEL PULSE — Outer rim breathing */
@keyframes bezelPulse {
  0%, 100% {
    opacity: 0.4;
    border-color: rgba(255, 255, 255, 0.08);
  }
  50% {
    opacity: 0.7;
    border-color: rgba(34, 211, 238, 0.15);
  }
}
