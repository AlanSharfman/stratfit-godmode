/* src/styles/godmode-unified-layout.css */
/* STRATFIT GOD MODE — TRUE FRAMEWORK LAYOUT */
/* All 3 columns aligned at TOP, KPIs only in center */

/* ============================================================================
   RESET: Lock viewport - NO SCROLLING
   ============================================================================ */

html, body, #root {
  height: 100vh !important;
  max-height: 100vh !important;
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
}

.app,
[class*="App"] {
  height: 100vh !important;
  max-height: 100vh !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
}

/* ============================================================================
   HEADER — Fixed 56px (UnifiedHeader handles this)
   ============================================================================ */

.unified-header,
header.unified-header {
  flex-shrink: 0 !important;
  height: 56px !important;
  min-height: 56px !important;
  max-height: 56px !important;
}

/* Hide old header */
.header:not(.unified-header) {
  display: none !important;
}

/* ============================================================================
   MAIN CONTENT — 3-Column Grid, ALL START AT TOP
   ============================================================================ */

.main-content,
[class*="main-content"],
[class*="mainContent"] {
  flex: 1 !important;
  display: grid !important;
  /* MOUNTAIN REDUCED 30%: Wider side panels, smaller center */
  grid-template-columns: 380px 1fr 420px !important;
  grid-template-rows: 1fr !important;
  gap: 16px !important;
  padding: 16px !important;
  height: calc(100vh - 56px) !important;
  max-height: calc(100vh - 56px) !important;
  overflow: hidden !important;
  background: transparent !important;
  align-items: stretch !important; /* All columns same height */
}

/* ============================================================================
   LEFT COLUMN — Control Panel (starts at TOP, same height as others)
   ============================================================================ */

.left-column,
[class*="left-column"],
aside.left-column {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  max-height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  background: rgba(8, 12, 18, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.04) !important;
  border-radius: 14px !important;
  padding: 0 !important;
  
  /* Subtle scrollbar */
  scrollbar-width: thin !important;
  scrollbar-color: rgba(255,255,255,0.08) transparent !important;
}

.left-column::-webkit-scrollbar {
  width: 4px !important;
}

.left-column::-webkit-scrollbar-track {
  background: transparent !important;
}

.left-column::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.08) !important;
  border-radius: 2px !important;
}

/* Hide Active Situation - it's in header now */
.scenario-area,
[class*="scenario-area"],
[class*="ActiveScenario"]:not(.unified-header *) {
  display: none !important;
}

/* Hide spacer */
.sf-leftSpacer,
[class*="sf-leftSpacer"] {
  display: none !important;
}

/* sf-leftStack - full height, no gaps */
.sf-leftStack,
[class*="sf-leftStack"] {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  gap: 0 !important;
  padding: 0 !important;
}

/* Sliders container - full height */
.sliders-container,
[class*="sliders-container"] {
  flex: 1 !important;
  height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  border: none !important;
  box-shadow: none !important;
  padding: 12px !important;
}

/* ============================================================================
   CENTER COLUMN — KPIs at top, Mountain below
   ============================================================================ */

.center-column,
[class*="center-column"],
main.center-column {
  display: flex !important;
  flex-direction: column !important;
  gap: 12px !important;
  height: 100% !important;
  max-height: 100% !important;
  overflow: hidden !important;
  /* Center the smaller mountain */
  justify-content: flex-start !important;
  align-items: stretch !important;
}

/* ============================================================================
   KPI SECTION — Let default styles handle layout (horizontal row)
   ============================================================================ */

.kpi-section,
[class*="kpi-section"],
[data-tour="kpis"] {
  flex-shrink: 0 !important;
  /* Let default component styles handle internal layout */
}

/* ============================================================================
   MOUNTAIN COMPOUND — Fills remaining center space
   ============================================================================ */

[class*="sfCenterRoot"],
[class*="CenterViewPanel"] {
  flex: 1 !important;
  min-height: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  background: #000 !important;
  border-radius: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.04) !important;
  overflow: hidden !important;
}

[class*="sfMountainStage"] {
  flex: 1 !important;
  min-height: 0 !important;
  border-radius: 12px !important;
}

/* Hide ViewModeSelector inside mountain - tabs are in header */
[class*="sfViewSelectorInner"],
[class*="ViewModeSelector"]:not(.unified-header *) {
  display: none !important;
}

/* ============================================================================
   RIGHT COLUMN — Scenario Intelligence (starts at TOP!)
   ============================================================================ */

.right-column,
[class*="right-column"],
aside.right-column,
[data-tour="intel"] {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  max-height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  background: rgba(8, 12, 18, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.04) !important;
  border-radius: 14px !important;
  padding: 0 !important;
  
  /* Subtle scrollbar */
  scrollbar-width: thin !important;
  scrollbar-color: rgba(255,255,255,0.08) transparent !important;
}

.right-column::-webkit-scrollbar,
[data-tour="intel"]::-webkit-scrollbar {
  width: 4px !important;
}

.right-column::-webkit-scrollbar-track,
[data-tour="intel"]::-webkit-scrollbar-track {
  background: transparent !important;
}

.right-column::-webkit-scrollbar-thumb,
[data-tour="intel"]::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.08) !important;
  border-radius: 2px !important;
}

/* AI Intelligence Component fills the right column */
[class*="AIIntelligence"],
[class*="ScenarioIntelligence"],
[class*="aiIntelligence"] {
  flex: 1 !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* ============================================================================
   RESPONSIVE
   ============================================================================ */

@media (max-width: 1600px) {
  .main-content,
  [class*="main-content"] {
    grid-template-columns: 360px 1fr 400px !important;
    gap: 14px !important;
    padding: 14px !important;
  }
}

@media (max-width: 1400px) {
  .main-content,
  [class*="main-content"] {
    grid-template-columns: 340px 1fr 380px !important;
    gap: 12px !important;
    padding: 12px !important;
  }
}

@media (max-width: 1200px) {
  .main-content,
  [class*="main-content"] {
    grid-template-columns: 300px 1fr 340px !important;
    gap: 10px !important;
    padding: 10px !important;
  }
}

/* ============================================================================
   CLEANUP
   ============================================================================ */

/* Remove any mode-specific classes that might interfere */
.mode-terrain,
.mode-impact,
.mode-compare,
.mode-simulate {
  /* Don't change grid layout based on mode */
}

/* Ensure CommandDeckBezel doesn't add extra padding */
[class*="CommandDeckBezel"],
[class*="commandDeckBezel"] {
  padding: 0 !important;
  margin: 0 !important;
  height: 100% !important;
}

/* Fix any nested scrolling issues */
[class*="CommandDeckBezel"] > div,
[class*="commandDeckBezel"] > div {
  height: 100% !important;
  overflow: visible !important;
}
